
(function(){var O={},_1=require("./jsv").JSV,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_1a,_1b,_1c;_2=function _2(_1d,_1e,_1f,_20,_21){Error.call(this,_20);this.uri=_1d.getURI();this.schemaUri=_1e.getURI();this.attribute=_1f;this.message=_20;this.description=_20;this.details=_21;};_2.prototype=new Error();_2.prototype.constructor=_2;_2.prototype.name="InitializationError";_3={"string":function(_22,_23){return _22.getType()==="string";},"number":function(_24,_25){return _24.getType()==="number";},"integer":function(_26,_27){return _26.getType()==="number"&&_26.getValue()%1===0;},"boolean":function(_28,_29){return _28.getType()==="boolean";},"object":function(_2a,_2b){return _2a.getType()==="object";},"array":function(_2c,_2d){return _2c.getType()==="array";},"null":function(_2e,_2f){return _2e.getType()==="null";},"any":function(_30,_31){return true;}};_4=new _1.Environment();_4.setOption("strict",false);_4.setOption("validateReferences",false);_5={"$schema":"http://json-schema.org/draft-00/hyper-schema#","id":"http://json-schema.org/draft-00/schema#","type":"object","properties":{"type":{"type":["string","array"],"items":{"type":["string",{"$ref":"#"}]},"optional":true,"uniqueItems":true,"default":"any","parser":function(_32,_33){var _34;if(_32.getType()==="string"){return _32.getValue();}else{if(_32.getType()==="object"){return _32.getEnvironment().createSchema(_32,_33.getEnvironment().findSchema(_33.resolveURI("#")));}else{if(_32.getType()==="array"){_34=_33.getValueOfProperty("parser");return _1.mapArray(_32.getProperties(),function(_35){return _34(_35,_33);});}}}return "any";},"validator":function(_36,_37,_38,_39,_3a,_3b,_3c){var _3d=_1.toArray(_37.getAttribute("type")),x,xl,_3e,_3f,_40;if(_36.getType()!=="undefined"&&_3d&&_3d.length){_40=_38.getValueOfProperty("typeValidators")||{};for(x=0,xl=_3d.length;x<xl;++x){_3e=_3d[x];if(_1.isJSONSchema(_3e)){_3f=_1.createObject(_39);_3f.errors=[];_3f.validated=_1.clone(_39.validated);if(_3e.validate(_36,_3f,_3a,_3b,_3c).errors.length===0){return true;}}else{if(_40[_3e]!==O[_3e]&&typeof _40[_3e]==="function"){if(_40[_3e](_36,_39)){return true;}}else{return true;}}}_39.addError(_36,_37,"type","Instance is not a required type",_3d);return false;}return true;},"typeValidators":_3},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"optional":true,"default":{},"parser":function(_41,_42,arg){var env=_41.getEnvironment(),_43=_42.getEnvironment();if(_41.getType()==="object"){if(arg){return env.createSchema(_41.getProperty(arg),_43.findSchema(_42.resolveURI("#")));}else{return _1.mapObject(_41.getProperties(),function(_44){return env.createSchema(_44,_43.findSchema(_42.resolveURI("#")));});}}return {};},"validator":function(_45,_46,_47,_48,_49,_4a,_4b){var _4c,key;if(_45.getType()==="object"){_4c=_46.getAttribute("properties");for(key in _4c){if(_4c[key]!==O[key]&&_4c[key]){_4c[key].validate(_45.getProperty(key),_48,_45,_46,key);}}}}},"items":{"type":[{"$ref":"#"},"array"],"items":{"$ref":"#"},"optional":true,"default":{},"parser":function(_4d,_4e){if(_4d.getType()==="object"){return _4d.getEnvironment().createSchema(_4d,_4e.getEnvironment().findSchema(_4e.resolveURI("#")));}else{if(_4d.getType()==="array"){return _1.mapArray(_4d.getProperties(),function(_4f){return _4f.getEnvironment().createSchema(_4f,_4e.getEnvironment().findSchema(_4e.resolveURI("#")));});}}return _4d.getEnvironment().createEmptySchema();},"validator":function(_50,_51,_52,_53,_54,_55,_56){var _57,_58,x,xl,_59,_5a;if(_50.getType()==="array"){_57=_50.getProperties();_58=_51.getAttribute("items");_5a=_51.getAttribute("additionalProperties");if(_1.typeOf(_58)==="array"){for(x=0,xl=_57.length;x<xl;++x){_59=_58[x]||_5a;if(_59!==false){_59.validate(_57[x],_53,_50,_51,x);}else{_53.addError(_50,_51,"additionalProperties","Additional items are not allowed",_59);}}}else{_59=_58||_5a;for(x=0,xl=_57.length;x<xl;++x){_59.validate(_57[x],_53,_50,_51,x);}}}}},"optional":{"type":"boolean","optional":true,"default":false,"parser":function(_5b,_5c){return !!_5b.getValue();},"validator":function(_5d,_5e,_5f,_60,_61,_62,_63){if(_5d.getType()==="undefined"&&!_5e.getAttribute("optional")){_60.addError(_5d,_5e,"optional","Property is required",false);}},"validationRequired":true},"additionalProperties":{"type":[{"$ref":"#"},"boolean"],"optional":true,"default":{},"parser":function(_64,_65){if(_64.getType()==="object"){return _64.getEnvironment().createSchema(_64,_65.getEnvironment().findSchema(_65.resolveURI("#")));}else{if(_64.getType()==="boolean"&&_64.getValue()===false){return false;}}return _64.getEnvironment().createEmptySchema();},"validator":function(_66,_67,_68,_69,_6a,_6b,_6c){var _6d,_6e,_6f,key;if(_66.getType()==="object"){_6d=_67.getAttribute("additionalProperties");_6e=_67.getAttribute("properties")||{};_6f=_66.getProperties();for(key in _6f){if(_6f[key]!==O[key]&&_6f[key]&&_6e[key]===O[key]){if(_1.isJSONSchema(_6d)){_6d.validate(_6f[key],_69,_66,_67,key);}else{if(_6d===false){_69.addError(_66,_67,"additionalProperties","Additional properties are not allowed",_6d);}}}}}}},"requires":{"type":["string",{"$ref":"#"}],"optional":true,"parser":function(_70,_71){if(_70.getType()==="string"){return _70.getValue();}else{if(_70.getType()==="object"){return _70.getEnvironment().createSchema(_70,_71.getEnvironment().findSchema(_71.resolveURI("#")));}}},"validator":function(_72,_73,_74,_75,_76,_77,_78){var _79;if(_72.getType()!=="undefined"&&_76&&_76.getType()!=="undefined"){_79=_73.getAttribute("requires");if(typeof _79==="string"){if(_76.getProperty(_79).getType()==="undefined"){_75.addError(_72,_73,"requires","Property requires sibling property \""+_79+"\"",_79);}}else{if(_1.isJSONSchema(_79)){_79.validate(_76,_75);}}}}},"minimum":{"type":"number","optional":true,"parser":function(_7a,_7b){if(_7a.getType()==="number"){return _7a.getValue();}},"validator":function(_7c,_7d,_7e,_7f,_80,_81,_82){var _83,_84;if(_7c.getType()==="number"){_83=_7d.getAttribute("minimum");_84=_7d.getAttribute("minimumCanEqual");if(typeof _83==="number"&&(_7c.getValue()<_83||(_84===false&&_7c.getValue()===_83))){_7f.addError(_7c,_7d,"minimum","Number is less then the required minimum value",_83);}}}},"maximum":{"type":"number","optional":true,"parser":function(_85,_86){if(_85.getType()==="number"){return _85.getValue();}},"validator":function(_87,_88,_89,_8a,_8b,_8c,_8d){var _8e,_8f;if(_87.getType()==="number"){_8e=_88.getAttribute("maximum");_8f=_88.getAttribute("maximumCanEqual");if(typeof _8e==="number"&&(_87.getValue()>_8e||(_8f===false&&_87.getValue()===_8e))){_8a.addError(_87,_88,"maximum","Number is greater then the required maximum value",_8e);}}}},"minimumCanEqual":{"type":"boolean","optional":true,"requires":"minimum","default":true,"parser":function(_90,_91){if(_90.getType()==="boolean"){return _90.getValue();}return true;}},"maximumCanEqual":{"type":"boolean","optional":true,"requires":"maximum","default":true,"parser":function(_92,_93){if(_92.getType()==="boolean"){return _92.getValue();}return true;}},"minItems":{"type":"integer","optional":true,"minimum":0,"default":0,"parser":function(_94,_95){if(_94.getType()==="number"){return _94.getValue();}return 0;},"validator":function(_96,_97,_98,_99,_9a,_9b,_9c){var _9d;if(_96.getType()==="array"){_9d=_97.getAttribute("minItems");if(typeof _9d==="number"&&_96.getProperties().length<_9d){_99.addError(_96,_97,"minItems","The number of items is less then the required minimum",_9d);}}}},"maxItems":{"type":"integer","optional":true,"minimum":0,"parser":function(_9e,_9f){if(_9e.getType()==="number"){return _9e.getValue();}},"validator":function(_a0,_a1,_a2,_a3,_a4,_a5,_a6){var _a7;if(_a0.getType()==="array"){_a7=_a1.getAttribute("maxItems");if(typeof _a7==="number"&&_a0.getProperties().length>_a7){_a3.addError(_a0,_a1,"maxItems","The number of items is greater then the required maximum",_a7);}}}},"pattern":{"type":"string","optional":true,"format":"regex","parser":function(_a8,_a9){if(_a8.getType()==="string"){try{return new RegExp(_a8.getValue());}catch(e){return e;}}},"validator":function(_aa,_ab,_ac,_ad,_ae,_af,_b0){var _b1;try{_b1=_ab.getAttribute("pattern");if(_b1 instanceof Error){_ad.addError(_ab,_ac,"pattern","Invalid pattern",_ab.getValueOfProperty("pattern"));}else{if(_aa.getType()==="string"&&_b1&&!_b1.test(_aa.getValue())){_ad.addError(_aa,_ab,"pattern","String does not match pattern",_b1.toString());}}}catch(e){_ad.addError(_ab,_ac,"pattern","Invalid pattern",_ab.getValueOfProperty("pattern"));}}},"minLength":{"type":"integer","optional":true,"minimum":0,"default":0,"parser":function(_b2,_b3){if(_b2.getType()==="number"){return _b2.getValue();}return 0;},"validator":function(_b4,_b5,_b6,_b7,_b8,_b9,_ba){var _bb;if(_b4.getType()==="string"){_bb=_b5.getAttribute("minLength");if(typeof _bb==="number"&&_b4.getValue().length<_bb){_b7.addError(_b4,_b5,"minLength","String is less then the required minimum length",_bb);}}}},"maxLength":{"type":"integer","optional":true,"parser":function(_bc,_bd){if(_bc.getType()==="number"){return _bc.getValue();}},"validator":function(_be,_bf,_c0,_c1,_c2,_c3,_c4){var _c5;if(_be.getType()==="string"){_c5=_bf.getAttribute("maxLength");if(typeof _c5==="number"&&_be.getValue().length>_c5){_c1.addError(_be,_bf,"maxLength","String is greater then the required maximum length",_c5);}}}},"enum":{"type":"array","optional":true,"minItems":1,"uniqueItems":true,"parser":function(_c6,_c7){if(_c6.getType()==="array"){return _c6.getValue();}},"validator":function(_c8,_c9,_ca,_cb,_cc,_cd,_ce){var _cf,x,xl;if(_c8.getType()!=="undefined"){_cf=_c9.getAttribute("enum");if(_cf){for(x=0,xl=_cf.length;x<xl;++x){if(_c8.equals(_cf[x])){return true;}}_cb.addError(_c8,_c9,"enum","Instance is not one of the possible values",_cf);}}}},"title":{"type":"string","optional":true},"description":{"type":"string","optional":true},"format":{"type":"string","optional":true,"parser":function(_d0,_d1){if(_d0.getType()==="string"){return _d0.getValue();}},"validator":function(_d2,_d3,_d4,_d5,_d6,_d7,_d8){var _d9,_da;if(_d2.getType()==="string"){_d9=_d3.getAttribute("format");_da=_d4.getValueOfProperty("formatValidators");if(typeof _d9==="string"&&_da[_d9]!==O[_d9]&&typeof _da[_d9]==="function"&&!_da[_d9].call(this,_d2,_d5)){_d5.addError(_d2,_d3,"format","String is not in the required format",_d9);}}},"formatValidators":{}},"contentEncoding":{"type":"string","optional":true},"default":{"type":"any","optional":true},"maxDecimal":{"type":"integer","optional":true,"minimum":0,"parser":function(_db,_dc){if(_db.getType()==="number"){return _db.getValue();}},"validator":function(_dd,_de,_df,_e0,_e1,_e2,_e3){var _e4,_e5;if(_dd.getType()==="number"){_e4=_de.getAttribute("maxDecimal");if(typeof _e4==="number"){_e5=_dd.getValue().toString(10).split(".")[1];if(_e5&&_e5.length>_e4){_e0.addError(_dd,_de,"maxDecimal","The number of decimal places is greater then the allowed maximum",_e4);}}}}},"disallow":{"type":["string","array"],"items":{"type":"string"},"optional":true,"uniqueItems":true,"parser":function(_e6,_e7){if(_e6.getType()==="string"||_e6.getType()==="array"){return _e6.getValue();}},"validator":function(_e8,_e9,_ea,_eb,_ec,_ed,_ee){var _ef=_1.toArray(_e9.getAttribute("disallow")),x,xl,key,_f0,_f1;if(_e8.getType()!=="undefined"&&_ef&&_ef.length){_f0=_ea.getValueOfProperty("typeValidators")||{};for(x=0,xl=_ef.length;x<xl;++x){key=_ef[x];if(_1.isJSONSchema(key)){_f1=_1.createObject(_eb);_f1.errors=[];_f1.validated=_1.clone(_eb.validated);if(key.validate(_e8,_f1,_ec,_ed,_ee).errors.length===0){_eb.addError(_e8,_e9,"disallow","Instance is a disallowed type",_ef);return false;}}else{if(_f0[key]!==O[key]&&typeof _f0[key]==="function"){if(_f0[key](_e8,_eb)){_eb.addError(_e8,_e9,"disallow","Instance is a disallowed type",_ef);return false;}}}}return true;}return true;},"typeValidators":_3},"extends":{"type":[{"$ref":"#"},"array"],"items":{"$ref":"#"},"optional":true,"default":{},"parser":function(_f2,_f3){if(_f2.getType()==="object"){return _f2.getEnvironment().createSchema(_f2,_f3.getEnvironment().findSchema(_f3.resolveURI("#")));}else{if(_f2.getType()==="array"){return _1.mapArray(_f2.getProperties(),function(_f4){return _f4.getEnvironment().createSchema(_f4,_f3.getEnvironment().findSchema(_f3.resolveURI("#")));});}}},"validator":function(_f5,_f6,_f7,_f8,_f9,_fa,_fb){var _fc=_f6.getAttribute("extends"),x,xl;if(_fc){if(_1.isJSONSchema(_fc)){_fc.validate(_f5,_f8,_f9,_fa,_fb);}else{if(_1.typeOf(_fc)==="array"){for(x=0,xl=_fc.length;x<xl;++x){_fc[x].validate(_f5,_f8,_f9,_fa,_fb);}}}}}}},"optional":true,"default":{},"fragmentResolution":"dot-delimited","parser":function(_fd,_fe){if(_fd.getType()==="object"){return _fd.getEnvironment().createSchema(_fd,_fe);}},"validator":function(_ff,_100,self,_101,_102,_103,name){var _104=_100.getPropertyNames(),x,xl,_105=self.getAttribute("properties"),_106=_ff.getEnvironment().getOption("strict"),_107;for(x in _105){if(_105[x]!==O[x]){if(_105[x].getValueOfProperty("validationRequired")){_1.pushUnique(_104,x);}if(_106&&_105[x].getValueOfProperty("deprecated")){_1.popFirst(_104,x);}}}for(x=0,xl=_104.length;x<xl;++x){if(_105[_104[x]]!==O[_104[x]]){_107=_105[_104[x]].getValueOfProperty("validator");if(typeof _107==="function"){_107(_ff,_100,_105[_104[x]],_101,_102,_103,name);}}}}};_6={"$schema":"http://json-schema.org/draft-00/hyper-schema#","id":"http://json-schema.org/draft-00/hyper-schema#","properties":{"links":{"type":"array","items":{"$ref":"links#"},"optional":true,"parser":function(_108,self,arg){var _109,_10a=self.getValueOfProperty("items")["$ref"],_10b=self.getEnvironment().findSchema(_10a),_10c=_10b&&_10b.getValueOfProperty("parser"),_10d;arg=_1.toArray(arg);if(typeof _10c==="function"){_109=_1.mapArray(_108.getProperties(),function(link){return _10c(link,_10b);});}else{_109=_1.toArray(_108.getValue());}if(arg[0]){_109=_1.filterArray(_109,function(link){return link["rel"]===arg[0];});}if(arg[1]){_10d=self.getValueOfProperty("selfReferenceVariable");_109=_1.mapArray(_109,function(link){var _10e=arg[1],href=link["href"];href=href.replace(/\{(.+)\}/g,function(str,p1,_10f,s){var _110;if(p1===_10d){_110=_10e.getValue();}else{_110=_10e.getValueOfProperty(p1);}return _110!==undefined?String(_110):"";});return href?_1.formatURI(_10e.resolveURI(href)):href;});}return _109;},"selfReferenceVariable":"-this"},"fragmentResolution":{"type":"string","optional":true,"default":"dot-delimited"},"root":{"type":"boolean","optional":true,"default":false},"readonly":{"type":"boolean","optional":true,"default":false},"pathStart":{"type":"string","optional":true,"format":"uri","validator":function(_111,_112,self,_113,_114,_115,name){var _116;if(_111.getType()!=="undefined"){_116=_112.getAttribute("pathStart");if(typeof _116==="string"){if(_111.getURI().indexOf(_116)!==0){_113.addError(_111,_112,"pathStart","Instance's URI does not start with "+_116,_116);}}}}},"mediaType":{"type":"string","optional":true,"format":"media-type"},"alternate":{"type":"array","items":{"$ref":"#"},"optional":true}},"links":[{"href":"{$ref}","rel":"full"},{"href":"{$schema}","rel":"describedby"},{"href":"{id}","rel":"self"}],"initializer":function(_117){var link,_118,_119;link=_117._schema.getLink("describedby",_117);if(link&&_117._schema._uri!==link){if(_117._env._schemas[link]){_117._schema=_117._env._schemas[link];initializer=_117._schema.getValueOfProperty("initializer");if(typeof initializer==="function"){return initializer(_117);}else{return _117;}}else{if(_117._env._options["validateReferences"]){throw new _2(_117,_117._schema,"{link:describedby}","Unknown schema reference",link);}}}link=_117._schema.getLink("full",_117);if(link&&_117._uri!==link){if(_117._env._schemas[link]){_117=_117._env._schemas[link];return _117;}else{if(_117._env._options["validateReferences"]){throw new _2(_117,_117._schema,"{link:full}","Unknown schema reference",link);}}}_118=_117.getAttribute("extends");if(_1.isJSONSchema(_118)){_119=_1.inherits(_118,_117,true);_117=_117._env.createSchema(_119,_117._schema,_117._uri);}link=_117._schema.getLink("self",_117);if(_1.typeOf(link)==="string"){_117._uri=_1.formatURI(link);}return _117;}};_7={"$schema":"http://json-schema.org/draft-00/hyper-schema#","id":"http://json-schema.org/draft-00/links#","type":"object","properties":{"href":{"type":"string"},"rel":{"type":"string"},"method":{"type":"string","default":"GET","optional":true},"enctype":{"type":"string","requires":"method","optional":true},"properties":{"type":"object","additionalProperties":{"$ref":"hyper-schema#"},"optional":true,"parser":function(_11a,self,arg){var env=_11a.getEnvironment(),_11b=self.getEnvironment(),_11c=self.getValueOfProperty("additionalProperties")["$ref"];if(_11a.getType()==="object"){if(arg){return env.createSchema(_11a.getProperty(arg),_11b.findSchema(self.resolveURI(_11c)));}else{return _1.mapObject(_11a.getProperties(),function(_11d){return env.createSchema(_11d,_11b.findSchema(self.resolveURI(_11c)));});}}}}},"parser":function(_11e,self){var _11f=self.getProperty("properties");if(_11e.getType()==="object"){return _1.mapObject(_11e.getProperties(),function(_120,key){var _121=_11f.getProperty(key),_122=_121&&_121.getValueOfProperty("parser");if(typeof _122==="function"){return _122(_120,_121);}return _120.getValue();});}return _11e.getValue();}};_4.setOption("defaultFragmentDelimiter",".");_4.setOption("defaultSchemaURI","http://json-schema.org/draft-00/schema#");_8=_4.createSchema(_5,true,"http://json-schema.org/draft-00/schema#");_9=_4.createSchema(_1.inherits(_8,_4.createSchema(_6,true,"http://json-schema.org/draft-00/hyper-schema#"),true),true,"http://json-schema.org/draft-00/hyper-schema#");_4.setOption("defaultSchemaURI","http://json-schema.org/draft-00/hyper-schema#");_a=_4.createSchema(_7,_9,"http://json-schema.org/draft-00/links#");_8=_4.createSchema(_8.getValue(),_9,"http://json-schema.org/draft-00/schema#");_9=_4.createSchema(_9.getValue(),_9,"http://json-schema.org/draft-00/hyper-schema#");_a=_4.createSchema(_a.getValue(),_9,"http://json-schema.org/draft-00/links#");_b=_1.inherits(_5,{"$schema":"http://json-schema.org/draft-01/hyper-schema#","id":"http://json-schema.org/draft-01/schema#"});_c=_1.inherits(_6,{"$schema":"http://json-schema.org/draft-01/hyper-schema#","id":"http://json-schema.org/draft-01/hyper-schema#"});_d=_1.inherits(_7,{"$schema":"http://json-schema.org/draft-01/hyper-schema#","id":"http://json-schema.org/draft-01/links#"});_4.setOption("defaultSchemaURI","http://json-schema.org/draft-01/schema#");_e=_4.createSchema(_b,true,"http://json-schema.org/draft-01/schema#");_f=_4.createSchema(_1.inherits(_e,_4.createSchema(_c,true,"http://json-schema.org/draft-01/hyper-schema#"),true),true,"http://json-schema.org/draft-01/hyper-schema#");_4.setOption("defaultSchemaURI","http://json-schema.org/draft-01/hyper-schema#");_10=_4.createSchema(_d,_f,"http://json-schema.org/draft-01/links#");_e=_4.createSchema(_e.getValue(),_f,"http://json-schema.org/draft-01/schema#");_f=_4.createSchema(_f.getValue(),_f,"http://json-schema.org/draft-01/hyper-schema#");_10=_4.createSchema(_10.getValue(),_f,"http://json-schema.org/draft-01/links#");_11=_1.inherits(_b,{"$schema":"http://json-schema.org/draft-02/hyper-schema#","id":"http://json-schema.org/draft-02/schema#","properties":{"uniqueItems":{"type":"boolean","optional":true,"default":false,"parser":function(_123,self){return !!_123.getValue();},"validator":function(_124,_125,self,_126,_127,_128,name){var _129,x,xl,y,yl;if(_124.getType()==="array"&&_125.getAttribute("uniqueItems")){_129=_124.getProperties();for(x=0,xl=_129.length-1;x<xl;++x){for(y=x+1,yl=_129.length;y<yl;++y){if(_129[x].equals(_129[y])){_126.addError(_124,_125,"uniqueItems","Array can only contain unique items",{x:x,y:y});}}}}}},"maxDecimal":{"deprecated":true},"divisibleBy":{"type":"number","minimum":0,"minimumCanEqual":false,"optional":true,"parser":function(_12a,self){if(_12a.getType()==="number"){return _12a.getValue();}},"validator":function(_12b,_12c,self,_12d,_12e,_12f,name){var _130;if(_12b.getType()==="number"){_130=_12c.getAttribute("divisibleBy");if(_130===0){_12d.addError(_12b,_12c,"divisibleBy","Nothing is divisible by 0",_130);}else{if(_130!==1&&((_12b.getValue()/_130)%1)!==0){_12d.addError(_12b,_12c,"divisibleBy","Number is not divisible by "+_130,_130);}}}}}},"fragmentResolution":"slash-delimited"});_12=_1.inherits(_c,{"id":"http://json-schema.org/draft-02/hyper-schema#","properties":{"fragmentResolution":{"default":"slash-delimited"}}});_13=_1.inherits(_d,{"$schema":"http://json-schema.org/draft-02/hyper-schema#","id":"http://json-schema.org/draft-02/links#","properties":{"targetSchema":{"$ref":"hyper-schema#","parser":_f.getAttribute("parser")}}});_4.setOption("defaultFragmentDelimiter","/");_4.setOption("defaultSchemaURI","http://json-schema.org/draft-02/schema#");_14=_4.createSchema(_11,true,"http://json-schema.org/draft-02/schema#");_15=_4.createSchema(_1.inherits(_14,_4.createSchema(_12,true,"http://json-schema.org/draft-02/hyper-schema#"),true),true,"http://json-schema.org/draft-02/hyper-schema#");_4.setOption("defaultSchemaURI","http://json-schema.org/draft-02/hyper-schema#");_16=_4.createSchema(_13,_15,"http://json-schema.org/draft-02/links#");_14=_4.createSchema(_14.getValue(),_15,"http://json-schema.org/draft-02/schema#");_15=_4.createSchema(_15.getValue(),_15,"http://json-schema.org/draft-02/hyper-schema#");_16=_4.createSchema(_16.getValue(),_15,"http://json-schema.org/draft-02/links#");function _131(_132,_133,_134,self){var _135={},_136,_137,_138,_139,key;if(_132.getType()==="object"){_136=_133.getAttribute("patternProperties");_139=_132.getProperties();for(_137 in _136){if(_136[_137]!==O[_137]){_138=null;try{_138=new RegExp(_137);}catch(e){if(_134){_134.addError(_133,self,"patternProperties","Invalid pattern",_137);}}if(_138){for(key in _139){if(_139[key]!==O[key]&&_138.test(key)){_135[key]=_135[key]?_1.pushUnique(_135[key],_136[_137]):[_136[_137]];}}}}}}return _135;};_17=_1.inherits(_11,{"$schema":"http://json-schema.org/draft-03/schema#","id":"http://json-schema.org/draft-03/schema#","properties":{"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{},"parser":_14.getValueOfProperty("properties")["properties"]["parser"],"validator":function(_13a,_13b,self,_13c,_13d,_13e,name){var _13f,key,x;if(_13a.getType()==="object"){_13f=_131(_13a,_13b,_13c,self);for(key in _13f){if(_13f[key]!==O[key]){x=_13f[key].length;while(x--){_13f[key][x].validate(_13a.getProperty(key),_13c,_13a,_13b,key);}}}}}},"additionalProperties":{"validator":function(_140,_141,self,_142,_143,_144,name){var _145,_146,_147,_148,key;if(_140.getType()==="object"){_145=_141.getAttribute("additionalProperties");_146=_141.getAttribute("properties")||{};_147=_140.getProperties();_148=_131(_140,_141);for(key in _147){if(_147[key]!==O[key]&&_147[key]&&_146[key]===O[key]&&_148[key]===O[key]){if(_1.isJSONSchema(_145)){_145.validate(_147[key],_142,_140,_141,key);}else{if(_145===false){_142.addError(_140,_141,"additionalProperties","Additional properties are not allowed",_145);}}}}}}},"items":{"validator":function(_149,_14a,self,_14b,_14c,_14d,name){var _14e,_14f,x,xl,_150,_151;if(_149.getType()==="array"){_14e=_149.getProperties();_14f=_14a.getAttribute("items");_151=_14a.getAttribute("additionalItems");if(_1.typeOf(_14f)==="array"){for(x=0,xl=_14e.length;x<xl;++x){_150=_14f[x]||_151;if(_150!==false){_150.validate(_14e[x],_14b,_149,_14a,x);}else{_14b.addError(_149,_14a,"additionalItems","Additional items are not allowed",_150);}}}else{_150=_14f||_151;for(x=0,xl=_14e.length;x<xl;++x){_150.validate(_14e[x],_14b,_149,_14a,x);}}}}},"additionalItems":{"type":[{"$ref":"#"},"boolean"],"default":{},"parser":_14.getValueOfProperty("properties")["additionalProperties"]["parser"],"validator":function(_152,_153,self,_154,_155,_156,name){var _157,_158,x,xl;if(_152.getType()==="array"&&_153.getProperty("items").getType()==="undefined"){_157=_153.getAttribute("additionalItems");_158=_152.getProperties();if(_157!==false){for(x=0,xl=_158.length;x<xl;++x){_157.validate(_158[x],_154,_152,_153,x);}}else{if(_158.length){_154.addError(_152,_153,"additionalItems","Additional items are not allowed",_157);}}}}},"optional":{"validationRequired":false,"deprecated":true},"required":{"type":"boolean","default":false,"parser":function(_159,self){return !!_159.getValue();},"validator":function(_15a,_15b,self,_15c,_15d,_15e,name){if(_15a.getType()==="undefined"&&_15b.getAttribute("required")){_15c.addError(_15a,_15b,"required","Property is required",true);}}},"requires":{"deprecated":true},"dependencies":{"type":"object","additionalProperties":{"type":["string","array",{"$ref":"#"}],"items":{"type":"string"}},"default":{},"parser":function(_15f,self,arg){function _160(_161){var type=_161.getType();if(type==="string"||type==="array"){return _161.getValue();}else{if(type==="object"){return _161.getEnvironment().createSchema(_161,self.getEnvironment().findSchema(self.resolveURI("#")));}}};if(_15f.getType()==="object"){if(arg){return _160(_15f.getProperty(arg));}else{return _1.mapObject(_15f.getProperties(),_160);}}return {};},"validator":function(_162,_163,self,_164,_165,_166,name){var _167,key,_168,type,x,xl;if(_162.getType()==="object"){_167=_163.getAttribute("dependencies");for(key in _167){if(_167[key]!==O[key]&&_162.getProperty(key).getType()!=="undefined"){_168=_167[key];type=_1.typeOf(_168);if(type==="string"){if(_162.getProperty(_168).getType()==="undefined"){_164.addError(_162,_163,"dependencies","Property \""+key+"\" requires sibling property \""+_168+"\"",_167);}}else{if(type==="array"){for(x=0,xl=_168.length;x<xl;++x){if(_162.getProperty(_168[x]).getType()==="undefined"){_164.addError(_162,_163,"dependencies","Property \""+key+"\" requires sibling property \""+_168[x]+"\"",_167);}}}else{if(_1.isJSONSchema(_168)){_168.validate(_162,_164);}}}}}}}},"minimumCanEqual":{"deprecated":true},"maximumCanEqual":{"deprecated":true},"exclusiveMinimum":{"type":"boolean","default":false,"parser":function(_169,self){return !!_169.getValue();}},"exclusiveMaximum":{"type":"boolean","default":false,"parser":function(_16a,self){return !!_16a.getValue();}},"minimum":{"validator":function(_16b,_16c,self,_16d,_16e,_16f,name){var _170,_171;if(_16b.getType()==="number"){_170=_16c.getAttribute("minimum");_171=_16c.getAttribute("exclusiveMinimum")||(!_16b.getEnvironment().getOption("strict")&&!_16c.getAttribute("minimumCanEqual"));if(typeof _170==="number"&&(_16b.getValue()<_170||(_171===true&&_16b.getValue()===_170))){_16d.addError(_16b,_16c,"minimum","Number is less then the required minimum value",_170);}}}},"maximum":{"validator":function(_172,_173,self,_174,_175,_176,name){var _177,_178;if(_172.getType()==="number"){_177=_173.getAttribute("maximum");_178=_173.getAttribute("exclusiveMaximum")||(!_172.getEnvironment().getOption("strict")&&!_173.getAttribute("maximumCanEqual"));if(typeof _177==="number"&&(_172.getValue()>_177||(_178===true&&_172.getValue()===_177))){_174.addError(_172,_173,"maximum","Number is greater then the required maximum value",_177);}}}},"contentEncoding":{"deprecated":true},"divisibleBy":{"exclusiveMinimum":true},"disallow":{"items":{"type":["string",{"$ref":"#"}]},"parser":_11["properties"]["type"]["parser"]},"id":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri"},"$schema":{"type":"string","format":"uri"}},"dependencies":{"exclusiveMinimum":"minimum","exclusiveMaximum":"maximum"},"initializer":function(_179){var link,_17a,_17b,_17c=_179.getValueOfProperty("$schema"),_17d=_179.getValueOfProperty("$ref"),_17e=_179.getValueOfProperty("id");if(_17c){link=_179.resolveURI(_17c);if(link&&_179._schema._uri!==link){if(_179._env._schemas[link]){_179._schema=_179._env._schemas[link];initializer=_179._schema.getValueOfProperty("initializer");if(typeof initializer==="function"){return initializer(_179);}else{return _179;}}else{if(_179._env._options["validateReferences"]){throw new _2(_179,_179._schema,"$schema","Unknown schema reference",link);}}}}if(_17d){link=_179.resolveURI(_17d);if(link&&_179._uri!==link){if(_179._env._schemas[link]){_179=_179._env._schemas[link];return _179;}else{if(_179._env._options["validateReferences"]){throw new _2(_179,_179._schema,"$ref","Unknown schema reference",link);}}}}_17a=_179.getAttribute("extends");if(_1.isJSONSchema(_17a)){_17b=_1.inherits(_17a,_179,true);_179=_179._env.createSchema(_17b,_179._schema,_179._uri);}if(_17e){link=_179.resolveURI(_17e);if(_1.typeOf(link)==="string"){_179._uri=_1.formatURI(link);}}return _179;}});_18=_1.inherits(_12,{"$schema":"http://json-schema.org/draft-03/hyper-schema#","id":"http://json-schema.org/draft-03/hyper-schema#","properties":{"links":{"selfReferenceVariable":"@"},"root":{"deprecated":true},"contentEncoding":{"deprecated":false},"alternate":{"deprecated":true}}});_19=_1.inherits(_13,{"$schema":"http://json-schema.org/draft-03/hyper-schema#","id":"http://json-schema.org/draft-03/links#","properties":{"href":{"required":true,"format":"link-description-object-template"},"rel":{"required":true},"properties":{"deprecated":true},"schema":{"$ref":"http://json-schema.org/draft-03/hyper-schema#"}}});_4.setOption("validateReferences",true);_4.setOption("defaultSchemaURI","http://json-schema.org/draft-03/schema#");_4.createSchema({},true,"http://json-schema.org/draft-03/schema#");_4.createSchema({},true,"http://json-schema.org/draft-03/hyper-schema#");_4.createSchema({},true,"http://json-schema.org/draft-03/links#");_1a=_4.createSchema(_17,true,"http://json-schema.org/draft-03/schema#");_1b=_4.createSchema(_1.inherits(_1a,_4.createSchema(_18,true,"http://json-schema.org/draft-03/hyper-schema#"),true),true,"http://json-schema.org/draft-03/hyper-schema#");_1c=_4.createSchema(_19,true,"http://json-schema.org/draft-03/links#");_4.setOption("defaultSchemaURI","http://json-schema.org/draft-03/hyper-schema#");_1b=_4.createSchema(_1b.getValue(),_1b,"http://json-schema.org/draft-03/hyper-schema#");_4.setOption("latestJSONSchemaSchemaURI","http://json-schema.org/draft-03/schema#");_4.setOption("latestJSONSchemaHyperSchemaURI","http://json-schema.org/draft-03/hyper-schema#");_4.setOption("latestJSONSchemaLinksURI","http://json-schema.org/draft-03/links#");_4._schemas["http://json-schema.org/schema#"]=_1a;_4._schemas["http://json-schema.org/hyper-schema#"]=_1b;_4._schemas["http://json-schema.org/links#"]=_1c;_1.registerEnvironment("json-schema-draft-03",_4);if(!_1.getDefaultEnvironmentID()||_1.getDefaultEnvironmentID()==="json-schema-draft-01"||_1.getDefaultEnvironmentID()==="json-schema-draft-02"){_1.setDefaultEnvironmentID("json-schema-draft-03");}}());